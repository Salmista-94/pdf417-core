<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>RecognizerApi: Recognizer API documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RecognizerApi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Recognizer API documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This documentation gives an overview how to use Recognizer scanning library. Recognizer library is supported on several platforms: Android, iOS, Mac OS X, Linux and Windows. This documentation covers the usage of Recognizer API to perform scanning of images and retrieving the scan results. For information about platform specific integration, refer to platform specific README document.</p>
<h1><a class="anchor" id="quickStart"></a>
Quick start</h1>
<p>In order to perform recognition, you first need to initialize a master <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> object. Master <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> object internally contains list of multiple recognizer objects (i.e. recognizers) that are specific for each object scanned. Each recognizer has its own settings object that configures its behaviour. This section only briefly covers the simplest usage. For more elaborate example, see the demo app provided with the library.</p>
<ol type="1">
<li>Initialize the <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure. ">RecognizerSettings</a> object and add license key to it <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_settings.html">RecognizerSettings</a>* settings;</div>
<div class="line"><a class="code" href="struct_recognizer_settings.html#a15b444a331c1d4ff947d8de9cca7cdaf">recognizerSettingsCreate</a>(&amp;settings);</div>
<div class="line"><a class="code" href="struct_recognizer_settings.html#acbf629b0cfb7b85da51bfa948a3618f7">recognizerSettingsSetLicenseKey</a>(settings, <span class="stringliteral">&quot;add licensee here&quot;</span>, <span class="stringliteral">&quot;add license key here&quot;</span>);</div>
</div><!-- fragment --> Please note that license key evaluation is done when creating the <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a>, not when inserting it into <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure. ">RecognizerSettings</a> object.</li>
<li>Define settings for each recognizer you want to use and add those settings to <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure. ">RecognizerSettings</a> object. To see all possible recognizer settings and documentation for them, refer to <a class="el" href="_recognizer_settings_8h.html">RecognizerSettings.h</a> file. For example, to enable PDF417 recognizer, QR code scanning via ZXing recognizer and US Driver's License recognizer, do the following <div class="fragment"><div class="line"><a class="code" href="struct_pdf417_settings.html">Pdf417Settings</a> pdf417Sett;</div>
<div class="line">pdf417Sett.<a class="code" href="struct_pdf417_settings.html#aa0a1fb5c2ff3daf5bee949665761d800">useAutoScale</a> = 1;</div>
<div class="line">pdf417Sett.<a class="code" href="struct_pdf417_settings.html#a37bad9ca476ce18951906f5e0e5f99ef">shouldScanUncertain</a> = 1;</div>
<div class="line"><a class="code" href="struct_recognizer_settings.html#a9f273bfe453175ab2acfe61a3ac783b2">recognizerSettingsSetPdf417Settings</a>(settings, &amp;pdf417Sett);</div>
<div class="line"></div>
<div class="line"><a class="code" href="struct_z_xing_settings.html">ZXingSettings</a> zxingSett;</div>
<div class="line">zxingSett.<a class="code" href="struct_z_xing_settings.html#abe1f06b30ab2d4efbb30e1e1fb03ad7d">scanQRCode</a> = 1;</div>
<div class="line"><a class="code" href="struct_recognizer_settings.html#a9de64a6b8d7ea1bc1be2681d1fa7b415">recognizerSettingsSetZXingSettings</a>(settings, &amp;zxingSett);</div>
<div class="line"></div>
<div class="line"><a class="code" href="struct_usdl_settings.html">UsdlSettings</a> usdlSett;</div>
<div class="line">usdlSett.<a class="code" href="struct_usdl_settings.html#aa4792498e3762d64fbe30d629c8a99a2">useAutoScale</a> = 1;</div>
<div class="line"><a class="code" href="struct_recognizer_settings.html#a299e3da9d30f0706a1cfc7f385ab9892">recognizerSettingsSetUsdlSettings</a>(settings, &amp;usdlSett);</div>
</div><!-- fragment --> Please note that some setting might be ignored if recognizers they configured are disabled by license key. You can disable certain recognizer by setting its settings to NULL. For example, to disable ZXing recognizer do the following: <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_settings.html#a9de64a6b8d7ea1bc1be2681d1fa7b415">recognizerSettingsSetZXingSettings</a>(settings, NULL);</div>
</div><!-- fragment --></li>
<li>Create the <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> object <div class="fragment"><div class="line"><a class="code" href="struct_recognizer.html">Recognizer</a>* recognizer;</div>
<div class="line"><a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65">RecognizerErrorStatus</a> status = <a class="code" href="struct_recognizer.html#afbdf8be43f71f1aae0946f51dbaa7624">recognizerCreate</a>(&amp;recognizer, settings);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Delete settings object</span></div>
<div class="line"><a class="code" href="struct_recognizer_settings.html#a193d33cbb7473e32ed4465a2dc3fe4e5">recognizerSettingsDelete</a>(settings);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (status == <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div>
<div class="line">    <span class="comment">// perform the scan</span></div>
<div class="line"></div>
<div class="line">} <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span>* statusString = recognizerErrorToString(status);</div>
<div class="line">    printf(<span class="stringliteral">&quot;Recognizer create returned status: %s\n&quot;</span>, statusString);</div>
<div class="line"></div>
<div class="line">    <span class="comment">// handle error</span></div>
<div class="line">}</div>
</div><!-- fragment --> Creation of <a class="el" href="struct_recognizer.html" title="Recognizer data structure. ">Recognizer</a> might fail. For that reason you should check the status of <a class="el" href="struct_recognizer.html#afbdf8be43f71f1aae0946f51dbaa7624" title="Allocates and initializes the recognizer object. Example: ">recognizerCreate</a> method.</li>
<li>Perform the scan on the image. Image can be scanned from file or from memory. Recognition from file is performed with <a class="el" href="struct_recognizer.html#a856263046eb7a239f8705ca9e163d29b" title="Performs recognition process on an image specified by a filename. Example: ">recognizerRecognizeFromFile</a> and recognition from memory is performed with methods <a class="el" href="struct_recognizer.html#ad7afd0ec1c6d88c61f659ee9a7c8387c" title="Performs recognition process on an encoded image. Image is loaded into memory and in the one of the f...">recognizerRecognizeFromEncodedImage</a> or <a class="el" href="struct_recognizer.html#a49a82ba58593fa1bdbf774480f0e0f71" title="Performs recognition process on a raw image. Example: ">recognizerRecognizeFromRawImage</a>. <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_result_list.html">RecognizerResultList</a>* resultList;</div>
<div class="line"><a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65">RecognizerErrorStatus</a> status = <a class="code" href="struct_recognizer.html#a856263046eb7a239f8705ca9e163d29b">recognizerRecognizeFromFile</a>(recognizer, &amp;resultList, <span class="stringliteral">&quot;barcode.jpg&quot;</span>, NULL);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div>
<div class="line">    <span class="keywordtype">char</span> err[1000];</div>
<div class="line">    printf(<span class="stringliteral">&quot;Recognizer error %s&quot;</span>, recognizerErrorToString(status));</div>
<div class="line">}</div>
</div><!-- fragment --> The output of recognition methods is list of recognition results. List can contain one or more recognition results, depending on the setting defined with method <a class="el" href="struct_recognizer_settings.html#acd7741a34095999c031f0612ad067145" title="Sets whether or not outputting of multiple scan results from same image is allowed. ">recognizerSettingsSetOutputMultipleResults</a> of <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure. ">RecognizerSettings</a> object.</li>
<li>Iterate over list of recognition results and obtain information from each recognition result. Note that methods for information retrieval may depend on the type of the recognition result. For all available information retrieval methods and information about when certain method is applicable, see the complete reference for <a class="el" href="struct_recognizer_result.html" title="RecognizerResult data structure. Holds the results of the recognition. ">RecognizerResult</a> data structure. The following example iterates over all elements in recognition result list and checks if RecognitionResult is generated by US Driver's License recognizer. If yes and result is valid, output driver's first and last name. If RecognitionResult is not generated by US Driver's License recognizer, assume it was generated by any barcode recognizer (<a class="el" href="struct_pdf417_settings.html">Pdf417</a>, <a class="el" href="struct_z_xing_settings.html">ZXing</a> or <a class="el" href="struct_bar_decoder_settings.html">BarDecoder</a>, also see <a class="el" href="struct_recognizer_settings.html" title="Recognizer settings data structure. ">RecognizerSettings</a>) and output barcode type and barcode string contents. <div class="fragment"><div class="line"><span class="keywordtype">size_t</span> numResults;</div>
<div class="line"><a class="code" href="struct_recognizer_result_list.html#a58404a628af8af9ff6c98a33911af517">recognizerResultListGetNumOfResults</a>(resultList, &amp;numResults);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">for</span>(i = 0; i&lt; numResults; ++i) {</div>
<div class="line">    <a class="code" href="struct_recognizer_result.html">RecognizerResult</a>* result;</div>
<div class="line">    <span class="keywordtype">int</span> isUsdl = 0;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="struct_recognizer_result_list.html#a4c5ca53911f6c3e58d92d32c8b6b0b5f">recognizerResultListGetResultAtIndex</a>(resultList, i, &amp;result);</div>
<div class="line"></div>
<div class="line">    status = <a class="code" href="struct_recognizer_result.html#aae89c7a0e570a410ac0f177f4c9a6150">recognizerResultIsUSDLResult</a>(result, &amp;isUsdl);</div>
<div class="line">    <span class="keywordflow">if</span>(status == <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a> &amp;&amp; isUsdl) {</div>
<div class="line">        <span class="keywordtype">int</span> valid = 0;</div>
<div class="line"></div>
<div class="line">        <a class="code" href="struct_recognizer_result.html#adfdf1faed2072378a1aca91aa810df5b">recognizerResultIsResultValid</a>(result, &amp;valid);</div>
<div class="line">        <span class="keywordflow">if</span>(valid) {</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">char</span>* firstName;</div>
<div class="line">            <span class="keyword">const</span> <span class="keywordtype">char</span>* lastName;</div>
<div class="line">            <a class="code" href="struct_recognizer_result.html#ae175022a1f3eccbef339a08a4f515b58">recognizerResultGetUSDLField</a>(result, &amp;firstName, <a class="code" href="_recognizer_result_8h.html#a484d241b6789d08b999983bbc9aa500c">USDLFieldKeys</a>.<a class="code" href="struct_u_s_d_l_field_keys_type.html#a2a9d4c8854e596a5d11c3802dd9d36c4">kCustomerFirstName</a>);</div>
<div class="line">            <a class="code" href="struct_recognizer_result.html#ae175022a1f3eccbef339a08a4f515b58">recognizerResultGetUSDLField</a>(result, &amp;lastName, <a class="code" href="_recognizer_result_8h.html#a484d241b6789d08b999983bbc9aa500c">USDLFieldKeys</a>.<a class="code" href="struct_u_s_d_l_field_keys_type.html#a6d7be42a6bde094956d15e6c113f8109">kCustomerFamilyName</a>);</div>
<div class="line"></div>
<div class="line">            printf(<span class="stringliteral">&quot;Driver&#39;s license belongs to %s %s\n&quot;</span>, firstName, lastName);</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Invalid driver license result!\n&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="keyword">const</span> <span class="keywordtype">char</span>* str;</div>
<div class="line">        BarcodeType barcodeType;</div>
<div class="line"></div>
<div class="line">        status = <a class="code" href="struct_recognizer_result.html#adcc53561f572bd72f28d10e1f868d505">recognizerResultGetBarcodeType</a>(result, &amp;barcodeType);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Error obtaining barcode type: %s\n&quot;</span>, recognizerErrorToString(status));</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        status = <a class="code" href="struct_recognizer_result.html#a3d586d5fedcda45bff072bacd7d4e582">recognizerResultGetBarcodeStringData</a>(result, &amp;str);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (status != <a class="code" href="_recognizer_error_8h.html#ad87f7a9a4fa76aff551ea489ab676a65a0ea648237140e482ba85149437aa9aef">RECOGNIZER_ERROR_STATUS_SUCCESS</a>) {</div>
<div class="line">            printf(<span class="stringliteral">&quot;Error obtaining barcode string data: %s\n&quot;</span>, recognizerErrorToString(status));</div>
<div class="line">            <span class="keywordflow">return</span> -1;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        printf(<span class="stringliteral">&quot;%s Result: %s\n&quot;</span>, barcodeTypeToString(barcodeType), str);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Finally, when done, clean the memory. Each structure has method for releasing it. <div class="fragment"><div class="line"><a class="code" href="struct_recognizer_result_list.html#a7ffd2e4b8953e5cac19771876d09755d">recognizerResultListDelete</a>(&amp;resultList);</div>
<div class="line"><a class="code" href="struct_recognizer_settings.html#a193d33cbb7473e32ed4465a2dc3fe4e5">recognizerSettingsDelete</a>(&amp;settings);</div>
<div class="line"><a class="code" href="struct_recognizer.html#a4544383775d2bcdddc9c5941e75380c3">recognizerDelete</a>(&amp;recognizer);</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="demo"></a>
Demo application</h1>
<p>Each platform contains its own demo application specific for that platform. Refer to its source code and documentation for more information.</p>
<h1><a class="anchor" id="info"></a>
Additional info</h1>
<p>For any inquiries, additional information or instructions please contact us at <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'mi'+'cro'+'bl'+'ink'+'.c'+'om'; return false;">support@microblink.com</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
